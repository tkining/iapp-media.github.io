<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>flickr infinite masonry test</title>
    <link rel="stylesheet" type="text/css" href="css/test.css">
</head>

<body>
    <div id='container'>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/400/19363229652_80b3ffd73b_m.jpg' />
                <p class='title'>journal0001</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/129618159@N04/' target='_blank'>129618159@N04</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/309/19363192802_008a135acc_m.jpg' />
                <p class='title'>#marieweimer #marieweimerart #denverartist #texture #dipndots #ice #icecream #rainbow #rainbowsherbert #repetition #collage #melting #instagramisforfood #visualartist</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/131843724@N06/' target='_blank'>131843724@N06</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/362/19181577090_536c5aca5b_m.jpg' />
                <p class='title'>Feeding time on the ranch</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/130562900@N07/' target='_blank'>130562900@N07</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/327/18748410363_67114d2b72_m.jpg' />
                <p class='title'>Rainbow</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/130270437@N08/' target='_blank'>130270437@N08</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/356/19181509198_2f66f17feb_m.jpg' />
                <p class='title'>Somewhere Under the Rainbow...</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/39210310@N02/' target='_blank'>39210310@N02</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/546/19181364470_698d024ef1_m.jpg' />
                <p class='title'>Another Colorado storm - if you look close you can see two rainbows. #Godspromiseisforever #backontheroad #headinghometoBrush #whereitallbegan</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/21242739@N08/' target='_blank'>21242739@N08</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/317/19362798492_8d7600b433_m.jpg' />
                <p class='title'>Rainbow with Stroud</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/124277213@N08/' target='_blank'>124277213@N08</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/298/19342829196_e181e3b6ae_m.jpg' />
                <p class='title'>Rainbow with Alex!</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/124277213@N08/' target='_blank'>124277213@N08</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/490/19362781812_10601e4e51_m.jpg' />
                <p class='title'>After the Storm</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/37372968@N06/' target='_blank'>37372968@N06</a></p>
            </div>
        </div>
        <div class='item'>
            <div class='imgcenter'><img src='http://farm1.static.flickr.com/389/18746300344_3a58821382_m.jpg' />
                <p class='title'>rainbowSwirlSpots_3iter</p>
                <p class='owner'>owner: <a href='http://www.flickr.com/photos/77071923@N00/' target='_blank'>77071923@N00</a></p>
            </div>
        </div>
    </div>
    
    <div class='nav clearbox'>
        <a href='/flickrsearch/index.php?p=2&q=rainbow'>.</a>
        </nav>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/jquery.masonry.min.js"></script>
        <script type="text/javascript" src="js/jquery.infinitescroll.min.js"></script>
        <script>
        $(function() {

            var $container = $('#container');

            $container.imagesLoaded(function() {
                $container.masonry({
                    itemSelector: '.item',
                    columnWidth: 20,
                    isAnimated: true,
                    isFitWidth: true
                });
            });

            $container.infinitescroll({
                    navSelector: 'div.nav', // selector for the paged navigation 
                    nextSelector: 'div.nav a', // selector for the NEXT link (to page 2)
                    itemSelector: '.item', // selector for all items you'll retrieve
                    loading: {
                        img: '6RMhx.gif',
                        msgText: 'loading....',
                        finishedMsg: 'no more...'
                    }

                },
                // trigger Masonry as a callback
                function(newElements) {
                    // hide new items while they are loading
                    var $newElems = $(newElements).css({
                        opacity: 0
                    });
                    // ensure that images load before adding to masonry layout
                    $newElems.imagesLoaded(function() {
                        // show elems now they're ready
                        $newElems.animate({
                            opacity: 1
                        });
                        $container.masonry('appended', $newElems, true);
                    });
                }
            );

        });
        </script>
</body>

</html>
